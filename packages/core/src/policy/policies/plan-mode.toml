# Rules for Plan Mode

[[rule]]
toolName = "exit_plan_mode"
decision = "ask_user"
priority = 50
modes = ["planMode"]

# Explicitly deny write tools in plan mode, overriding auto-edit or default ask_user
[[rule]]
toolName = "replace"
decision = "deny"
priority = 20
modes = ["planMode"]

[[rule]]
toolName = "save_memory"
decision = "deny"
priority = 20
modes = ["planMode"]

[[rule]]
toolName = "run_shell_command"
decision = "ask_user"
priority = 20
modes = ["planMode"]

[[rule]]
toolName = "write_file"
decision = "deny"
priority = 20
modes = ["planMode"]

[[rule]]
toolName = "write_todos"
decision = "deny"
priority = 20
modes = ["planMode"]

# Allow web_fetch for research/docs
[[rule]]
toolName = "web_fetch"
decision = "allow"
priority = 20
modes = ["planMode"]

# Allow asking user questions for clarification
[[rule]]
toolName = "ask_user_question"
decision = "allow"
priority = 50
modes = ["planMode"]
